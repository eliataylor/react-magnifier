(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/test-image-small.97785a79.jpg"},153:function(module,exports,__webpack_require__){__webpack_require__(154),__webpack_require__(233),module.exports=__webpack_require__(234)},234:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(39),__webpack_require__(41),__webpack_require__(54),__webpack_require__(56);var _storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(29),_package__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.addParameters)({options:{brandTitle:_package__WEBPACK_IMPORTED_MODULE_5__.name,brandUrl:_package__WEBPACK_IMPORTED_MODULE_5__.homepage,showPanel:!1,showSearchBox:!1}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.configure)(function loadStories(){var imports=__webpack_require__(311);imports.keys().forEach(function(filename){return imports(filename)})},module)}.call(this,__webpack_require__(111)(module))},311:function(module,exports,__webpack_require__){var map={"./index.stories.jsx":312};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=311},312:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(29),_dist_js_Magnifier_es__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(42),_test_image_jpg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43),_test_image_jpg__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_test_image_jpg__WEBPACK_IMPORTED_MODULE_3__),_test_image_small_jpg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(152),_test_image_small_jpg__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_test_image_small_jpg__WEBPACK_IMPORTED_MODULE_4__);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addDecorator)(function(story){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"100px 0"}},story())});var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_dist_js_Magnifier_es__WEBPACK_IMPORTED_MODULE_2__.a,{src:_test_image_jpg__WEBPACK_IMPORTED_MODULE_3___default.a,width:"50%"}),_ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_dist_js_Magnifier_es__WEBPACK_IMPORTED_MODULE_2__.a,{src:_test_image_jpg__WEBPACK_IMPORTED_MODULE_3___default.a,mgShape:"square",width:"50%"}),_ref3=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_dist_js_Magnifier_es__WEBPACK_IMPORTED_MODULE_2__.a,{src:_test_image_jpg__WEBPACK_IMPORTED_MODULE_3___default.a,mgShowOverflow:!1,mgTouchOffsetX:0,mgTouchOffsetY:0,width:"50%"}),_ref4=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_dist_js_Magnifier_es__WEBPACK_IMPORTED_MODULE_2__.a,{src:_test_image_small_jpg__WEBPACK_IMPORTED_MODULE_4___default.a,zoomImgSrc:_test_image_jpg__WEBPACK_IMPORTED_MODULE_3___default.a,width:"50%"});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Magnifier",module).add("Round",function(){return _ref}).add("Square",function(){return _ref2}).add("Hide overflow",function(){return _ref3}).add("Different images",function(){return _ref4})}.call(this,__webpack_require__(111)(module))},42:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(313),__webpack_require__(81),__webpack_require__(57),__webpack_require__(142),__webpack_require__(143);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),lodash_debounce__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(85),lodash_debounce__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_6__),lodash_throttle__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(87),lodash_throttle__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_7__),_extendStatics=function extendStatics(d,b){return(_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};var _assign=function __assign(){return(_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};!function styleInject(css,ref){void 0===ref&&(ref={});var insertAt=ref.insertAt;if(css&&"undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css","top"===insertAt&&head.firstChild?head.insertBefore(style,head.firstChild):head.appendChild(style),style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css))}}(".magnifier {\n  position: relative;\n  display: inline-block;\n  line-height: 0; }\n\n.magnifier-image {\n  cursor: none; }\n\n.magnifying-glass {\n  position: absolute;\n  z-index: 1;\n  background: #e5e5e5 no-repeat;\n  border: solid #ebebeb;\n  box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.3);\n  opacity: 0;\n  transition: opacity 0.3s;\n  pointer-events: none; }\n  .magnifying-glass.circle {\n    border-radius: 50%; }\n  .magnifying-glass.visible {\n    opacity: 1; }\n");var Magnifier=function(_super){function Magnifier(props){var _this=_super.call(this,props)||this;return _this.state={showZoom:!1,mgOffsetX:0,mgOffsetY:0,relX:0,relY:0},_this.img=null,_this.imgBounds=null,_this.onMouseEnter=_this.onMouseEnter.bind(_this),_this.onMouseMove=lodash_throttle__WEBPACK_IMPORTED_MODULE_7___default()(_this.onMouseMove.bind(_this),20,{trailing:!1}),_this.onMouseOut=_this.onMouseOut.bind(_this),_this.onTouchStart=_this.onTouchStart.bind(_this),_this.onTouchMove=lodash_throttle__WEBPACK_IMPORTED_MODULE_7___default()(_this.onTouchMove.bind(_this),20,{trailing:!1}),_this.onTouchEnd=_this.onTouchEnd.bind(_this),_this.calcImgBounds=_this.calcImgBounds.bind(_this),_this.calcImgBoundsDebounced=lodash_debounce__WEBPACK_IMPORTED_MODULE_6___default()(_this.calcImgBounds,200),_this}return function __extends(d,b){function __(){this.constructor=d}_extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}(Magnifier,_super),Magnifier.prototype.componentDidMount=function(){this.img.addEventListener("mouseenter",this.onMouseEnter,{passive:!1}),this.img.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.img.addEventListener("mouseout",this.onMouseOut,{passive:!1}),this.img.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.img.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.img.addEventListener("touchend",this.onTouchEnd,{passive:!1}),window.addEventListener("resize",this.calcImgBoundsDebounced),window.addEventListener("scroll",this.calcImgBoundsDebounced,!0)},Magnifier.prototype.componentWillUnmount=function(){this.img.removeEventListener("mouseenter",this.onMouseEnter),this.img.removeEventListener("mousemove",this.onMouseMove),this.img.removeEventListener("mouseout",this.onMouseOut),this.img.removeEventListener("touchstart",this.onTouchStart),this.img.removeEventListener("touchmove",this.onTouchMove),this.img.removeEventListener("touchend",this.onTouchEnd),window.removeEventListener("resize",this.calcImgBoundsDebounced),window.removeEventListener("scroll",this.calcImgBoundsDebounced,!0)},Magnifier.prototype.onMouseEnter=function(){this.calcImgBounds()},Magnifier.prototype.onMouseMove=function(e){var _a=this.props,mgMouseOffsetX=_a.mgMouseOffsetX,mgMouseOffsetY=_a.mgMouseOffsetY;if(this.imgBounds){var target=e.target,relX=(e.clientX-this.imgBounds.left)/target.clientWidth,relY=(e.clientY-this.imgBounds.top)/target.clientHeight;this.setState({mgOffsetX:mgMouseOffsetX,mgOffsetY:mgMouseOffsetY,relX:relX,relY:relY,showZoom:!0})}},Magnifier.prototype.onMouseOut=function(){this.setState({showZoom:!1})},Magnifier.prototype.onTouchStart=function(e){e.preventDefault(),this.calcImgBounds()},Magnifier.prototype.onTouchMove=function(e){if(e.preventDefault(),this.imgBounds){var target=e.target,_a=this.props,mgTouchOffsetX=_a.mgTouchOffsetX,mgTouchOffsetY=_a.mgTouchOffsetY,relX=(e.targetTouches[0].clientX-this.imgBounds.left)/target.clientWidth,relY=(e.targetTouches[0].clientY-this.imgBounds.top)/target.clientHeight;0<=relX&&0<=relY&&1>=relX&&1>=relY?this.setState({mgOffsetX:mgTouchOffsetX,mgOffsetY:mgTouchOffsetY,relX:relX,relY:relY,showZoom:!0}):this.setState({showZoom:!1})}},Magnifier.prototype.onTouchEnd=function(){this.setState({showZoom:!1})},Magnifier.prototype.calcImgBounds=function(){this.img&&(this.imgBounds=this.img.getBoundingClientRect())},Magnifier.prototype.render=function(){var _this=this,_a=this.props,src=_a.src,width=_a.width,height=_a.height,className=_a.className,zoomImgSrc=_a.zoomImgSrc,zoomFactor=_a.zoomFactor,mgHeight=_a.mgHeight,mgWidth=_a.mgWidth,mgBorderWidth=_a.mgBorderWidth,mgShape=(_a.mgMouseOffsetX,_a.mgMouseOffsetY,_a.mgTouchOffsetX,_a.mgTouchOffsetY,_a.mgShape),mgShowOverflow=_a.mgShowOverflow,otherProps=function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&(t[p[i]]=s[p[i]])}return t}(_a,["src","width","height","className","zoomImgSrc","zoomFactor","mgHeight","mgWidth","mgBorderWidth","mgMouseOffsetX","mgMouseOffsetY","mgTouchOffsetX","mgTouchOffsetY","mgShape","mgShowOverflow"]),_b=this.state,mgOffsetX=_b.mgOffsetX,mgOffsetY=_b.mgOffsetY,relX=_b.relX,relY=_b.relY,mgClasses="magnifying-glass";return _b.showZoom&&(mgClasses+=" visible"),"circle"===mgShape&&(mgClasses+=" circle"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"magnifier "+className,style:{width:width,height:height,overflow:mgShowOverflow?"visible":"hidden"}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",_assign({className:"magnifier-image",src:src,width:"100%",height:"100%"},otherProps,{onLoad:function onLoad(){_this.calcImgBounds()},ref:function ref(e){_this.img=e}})),this.imgBounds&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:mgClasses,style:{width:mgWidth,height:mgHeight,left:"calc("+100*relX+"% - "+mgWidth/2+"px + "+mgOffsetX+"px - "+mgBorderWidth+"px)",top:"calc("+100*relY+"% - "+mgHeight/2+"px + "+mgOffsetY+"px - "+mgBorderWidth+"px)",backgroundImage:"url("+(zoomImgSrc||src)+")",backgroundPosition:"calc("+100*relX+"% + "+mgWidth/2+"px - "+relX*mgWidth+"px) calc("+100*relY+"% + "+mgHeight/2+"px - "+relY*mgWidth+"px)",backgroundSize:zoomFactor*this.imgBounds.width+"% "+zoomFactor*this.imgBounds.height+"%",borderWidth:mgBorderWidth}}))},Magnifier.defaultProps={width:"100%",height:"auto",className:"",zoomFactor:1.5,mgWidth:150,mgHeight:150,mgBorderWidth:2,mgShape:"circle",mgShowOverflow:!0,mgMouseOffsetX:0,mgMouseOffsetY:0,mgTouchOffsetX:-50,mgTouchOffsetY:-50},Magnifier}(react__WEBPACK_IMPORTED_MODULE_5__.PureComponent);__webpack_exports__.a=Magnifier},43:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/test-image.fbc2db38.jpg"},86:function(module){module.exports={name:"react-magnifier",version:"3.0.0",description:"React image zoom component",keywords:["react","component","image","zoom","magnify","magnifier","magnifying glass"],main:"dist/js/Magnifier.js",module:"dist/js/Magnifier.es.js",author:"Samuel Meuli <me@samuelmeuli.com>",repository:"github:samuelmeuli/react-magnifier",homepage:"https://samuelmeuli.github.io/react-magnifier",license:"MIT",scripts:{start:"npm-run-all build:rollup --parallel start:*","start:rollup":"rollup --config --sourcemap --watch","start:storybook":"start-storybook --port 3000",build:"run-s build:*","build:clean":"rm -rf dist","build:rollup":"rollup --config","build:storybook":"build-storybook --output-dir dist/storybook",format:"prettier --write","lint:js":"eslint --fix","lint:ts":"eslint --ext .tsx --fix","lint:scss":"stylelint --fix --syntax scss"},dependencies:{"@types/lodash.debounce":"^4.0.6","@types/lodash.throttle":"^4.1.6","@types/react":"^16.8.8","lodash.debounce":"^4.0.8","lodash.throttle":"^4.1.1"},peerDependencies:{react:"^16.0.0"},devDependencies:{"@babel/core":"^7.3.4","@samuelmeuli/eslint-config":"~2.0.0","@samuelmeuli/stylelint-config":"~1.0.0","@storybook/react":"^5.0.2","@typescript-eslint/eslint-plugin":"^1.4.2","@typescript-eslint/parser":"^1.4.2","babel-loader":"^8.0.4",eslint:"^5.15.2","eslint-config-airbnb":"17.1.0","eslint-config-prettier":"^4.1.0","eslint-plugin-import":"^2.16.0","eslint-plugin-jsx-a11y":"^6.2.1","eslint-plugin-react":"^7.12.4",husky:"^1.1.2","lint-staged":"^8.1.5","node-sass":"^4.9.0","npm-run-all":"^4.1.3",postcss:"^7.0.14",prettier:"^1.16.4",react:"^16.8.4","react-dom":"^16.8.4",rollup:"^1.6.0","rollup-plugin-postcss":"^2.0.3","rollup-plugin-typescript2":"^0.20.1",stylelint:"^9.10.1",typescript:"^3.3.3333"},files:["dist/js/"],types:"dist/js/Magnifier.d.ts",husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.js":["yarn format","yarn lint:js","git add"],"*.ts":["yarn format","yarn lint:ts","git add"],"*.scss":["yarn format","yarn lint:scss","git add"],"*.{json,md,yml}":["yarn format","git add"]}}}},[[153,1,2]]]);
//# sourceMappingURL=main.35730091b446141cae87.bundle.js.map